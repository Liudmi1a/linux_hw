# linux_hw
Отчет по практической работе с виртуальными машинами на ОС Linux Ubuntu 24.04.2


Работа начинается с создания и настройки виртуальных машин А, Б и С - сервера, шлюза и клиента.
Ниже предствлены скрины настройки виртуальных машин и их состояние:
![lA](https://github.com/user-attachments/assets/f56d747e-8ed7-478a-8a48-09658b5529b7)
![lB](https://github.com/user-attachments/assets/3ca036d4-ab4f-49e7-8d5f-5e6af0e795ca)
![lC](https://github.com/user-attachments/assets/433c7a9b-32d3-4033-a36c-b89570f33eab)

---

На всех трех виртуальных машинах был изменён 'hostname' в соответствии с заданием в файле etc/hostname :
![etc_hostnameA (1)](https://github.com/user-attachments/assets/8baf5b48-20e2-43bb-bc03-26076d1739df)
![etc_hostnameB](https://github.com/user-attachments/assets/f145e03c-e9b9-4a26-a04b-46d7b1765f26)
![etc_hostnameC](https://github.com/user-attachments/assets/3b8d81fe-23e8-4f84-8ae9-372055d5f3d0)

После презагрузки машинам были присвоены новые 'hostname': <br>
ВМ А - shcerbakovaserver <br> ВМ Б - shcerbakovagateway <br> ВМ С - shcerbakovaclient

![hostnameA](https://github.com/user-attachments/assets/98458eb8-6b85-488d-b471-c26618bdafc6)
![hostnameC](https://github.com/user-attachments/assets/0885b811-0621-45bf-97ed-7c28fbca0cac)
![hostnameB](https://github.com/user-attachments/assets/c50691a5-7f0b-4536-9761-8c06824659c0)


---

Далее была произведена конфигурация виртуальных интерфейсов на всех трех виртуальных машинах:
![1 configuration]
![2 configuration]
![3 configuration]

На ВМ А был для 'enp0s3' был выставлен автоматический айпи-адрес, а для 'enp0s8' - "192.168.31.10/24" в соответствии с заданием; <br>
На ВМ Б был для 'enp0s3' был также выставлен автоматический айпи-адрес, для 'enp0s8' - "192.168.31.1/24", а для enp0s9 - "192.168.3.1/24" в соответствии с заданием; <br>
На ВМ С был для 'enp0s3' выставлен автоматический айпи-адрес, а для 'enp0s8' - "192.168.3.1/24" в соответствии с заданием;

Все конфигурационные файлы также представлены отдельно в соответствующей папке 'configs' в репозиторие.

---

Перейдем к рассмотрению процесса настраивания виртуальных машин по отдельности. 

Начнем с ВМ А. 

Был http-сервер на порту 5000. Также были реализованы три эндпоинта (запрос /get, /post, /put). Ниже представлен результат настройки (скрин был сделал раньше, чем я поменял 'hostname' на тот, что в задании):
![1 app and webserver]

Скрипты, описанные в 'app.py' и '/lib/systemd/system/web.server.service', представлены отдельно - в папках 'app' и 'configs' соответственно.

---

Рассмотрит ВМ Б. 

С помощью утилит ip route и iptables были настроены маршрут пакетов от ВМ A до ВМ C и была настроена фильтрация по порту 5000. 

Настройка маршрутов представлена ниже:
![2 iptables and routes]

---

Перейдем к ВМ С.

Ранее была представлена конфигурация ВМ С. А ниже представлены запросы, передаваемые через ВМ Б на ВМ А:
![3 requests]

Как можно заметить, ВМ С успешно получает фидбек от ВМ А.

---

Теперь рассмотрит фидбек, получаемый с ВМ А, и мониторинг с помощью 'tcpdump' по порту 5000, установленный на ВМ Б.

На скринах ниже представлено состояние ВМ А во время получения запросов с ВМ С:
![1 responses]

Так же с помощью команды 'tcpdump' были получены логи передачи пакетов с ВМ С на ВМ А. Ниже представлены скрины.

Мониторинг запросов GET с ВМ С на ВМ А:
![photo_2025-05-27_01-52-37](https://github.com/user-attachments/assets/d80639dc-fef0-4aee-bfe7-9a243f39f061)

Мониторинг запросов POST с ВМ С на ВМ А:

![photo_2025-05-27_01-53-42](https://github.com/user-attachments/assets/83301c27-c773-4ea9-9a33-5a5dcd082bf9)

Мониторинг запросов PUT с ВМ С на ВМ А:
![put](https://github.com/user-attachments/assets/75529728-bee5-4b6e-82f7-218184aa69c2)

---

По вышепредставленным скринам и описаниям происходящего можно сделать вывод, что все виртуальные машины были успешно настроены. Все три вида запросов с ВМ С на ВМ А через ВМ Б проходят успешно.

---
